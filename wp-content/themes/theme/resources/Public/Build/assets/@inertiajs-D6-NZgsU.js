import{a as J}from"./axios-DsPaXkF5.js";import{n as ae}from"./deepmerge-VBN_T8On.js";import{l as K}from"./qs-DhbNaN7L.js";import{u as x,n as le}from"./nprogress-BxC-YyK4.js";import{r as D,s as ce,c as pe,h as A,a as Z,w as de,d as q,b as O,m as Q}from"./@vue-aByEg6D1.js";import{a as S}from"./lodash.clonedeep-CAf97LGW.js";import{R as he}from"./lodash.isequal-5yW4Nflo.js";var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ye(e){if(e.__esModule)return e;var r=e.default;if(typeof r=="function"){var t=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t}function ee(e,r){let t;return function(...n){clearTimeout(t),t=setTimeout(()=>e.apply(this,n),r)}}function k(e,r){return document.dispatchEvent(new CustomEvent(`inertia:${e}`,r))}var ue=e=>k("before",{cancelable:!0,detail:{visit:e}}),me=e=>k("error",{detail:{errors:e}}),fe=e=>k("exception",{cancelable:!0,detail:{exception:e}}),G=e=>k("finish",{detail:{visit:e}}),ge=e=>k("invalid",{cancelable:!0,detail:{response:e}}),L=e=>k("navigate",{detail:{page:e}}),ve=e=>k("progress",{detail:{progress:e}}),ye=e=>k("start",{detail:{visit:e}}),be=e=>k("success",{detail:{page:e}});function _(e){return e instanceof File||e instanceof Blob||e instanceof FileList&&e.length>0||e instanceof FormData&&Array.from(e.values()).some(r=>_(r))||typeof e=="object"&&e!==null&&Object.values(e).some(r=>_(r))}function te(e,r=new FormData,t=null){e=e||{};for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&ne(r,re(t,n),e[n]);return r}function re(e,r){return e?e+"["+r+"]":r}function ne(e,r,t){if(Array.isArray(t))return Array.from(t.keys()).forEach(n=>ne(e,re(r,n.toString()),t[n]));if(t instanceof Date)return e.append(r,t.toISOString());if(t instanceof File)return e.append(r,t,t.name);if(t instanceof Blob)return e.append(r,t);if(typeof t=="boolean")return e.append(r,t?"1":"0");if(typeof t=="string")return e.append(r,t);if(typeof t=="number")return e.append(r,`${t}`);if(t==null)return e.append(r,"");te(t,e,r)}var we={modal:null,listener:null,show(e){typeof e=="object"&&(e=`All Inertia requests must receive a valid Inertia response, however a plain JSON response was received.<hr>${JSON.stringify(e)}`);let r=document.createElement("html");r.innerHTML=e,r.querySelectorAll("a").forEach(n=>n.setAttribute("target","_top")),this.modal=document.createElement("div"),this.modal.style.position="fixed",this.modal.style.width="100vw",this.modal.style.height="100vh",this.modal.style.padding="50px",this.modal.style.boxSizing="border-box",this.modal.style.backgroundColor="rgba(0, 0, 0, .6)",this.modal.style.zIndex=2e5,this.modal.addEventListener("click",()=>this.hide());let t=document.createElement("iframe");if(t.style.backgroundColor="white",t.style.borderRadius="5px",t.style.width="100%",t.style.height="100%",this.modal.appendChild(t),document.body.prepend(this.modal),document.body.style.overflow="hidden",!t.contentWindow)throw new Error("iframe not yet ready.");t.contentWindow.document.open(),t.contentWindow.document.write(r.outerHTML),t.contentWindow.document.close(),this.listener=this.hideOnEscape.bind(this),document.addEventListener("keydown",this.listener)},hide(){this.modal.outerHTML="",this.modal=null,document.body.style.overflow="visible",document.removeEventListener("keydown",this.listener)},hideOnEscape(e){e.keyCode===27&&this.hide()}};function $(e){return new URL(e.toString(),window.location.toString())}function ie(e,r,t,n="brackets"){let s=/^https?:\/\//.test(r.toString()),o=s||r.toString().startsWith("/"),l=!o&&!r.toString().startsWith("#")&&!r.toString().startsWith("?"),u=r.toString().includes("?")||e==="get"&&Object.keys(t).length,v=r.toString().includes("#"),c=new URL(r.toString(),"http://localhost");return e==="get"&&Object.keys(t).length&&(c.search=K.stringify(ae(K.parse(c.search,{ignoreQueryPrefix:!0}),t),{encodeValuesOnly:!0,arrayFormat:n}),t={}),[[s?`${c.protocol}//${c.host}`:"",o?c.pathname:"",l?c.pathname.substring(1):"",u?c.search:"",v?c.hash:""].join(""),t]}function I(e){return e=new URL(e.href),e.hash="",e}var Y=typeof window>"u",Se=class{constructor(){this.visitId=null}init({initialPage:e,resolveComponent:r,swapComponent:t}){this.page=e,this.resolveComponent=r,this.swapComponent=t,this.setNavigationType(),this.clearRememberedStateOnReload(),this.isBackForwardVisit()?this.handleBackForwardVisit(this.page):this.isLocationVisit()?this.handleLocationVisit(this.page):this.handleInitialPageVisit(this.page),this.setupEventListeners()}setNavigationType(){this.navigationType=window.performance&&window.performance.getEntriesByType("navigation").length>0?window.performance.getEntriesByType("navigation")[0].type:"navigate"}clearRememberedStateOnReload(){var e;this.navigationType==="reload"&&((e=window.history.state)!=null&&e.rememberedState)&&delete window.history.state.rememberedState}handleInitialPageVisit(e){this.page.url+=window.location.hash,this.setPage(e,{preserveState:!0}).then(()=>L(e))}setupEventListeners(){window.addEventListener("popstate",this.handlePopstateEvent.bind(this)),document.addEventListener("scroll",ee(this.handleScrollEvent.bind(this),100),!0)}scrollRegions(){return document.querySelectorAll("[scroll-region]")}handleScrollEvent(e){typeof e.target.hasAttribute=="function"&&e.target.hasAttribute("scroll-region")&&this.saveScrollPositions()}saveScrollPositions(){this.replaceState({...this.page,scrollRegions:Array.from(this.scrollRegions()).map(e=>({top:e.scrollTop,left:e.scrollLeft}))})}resetScrollPositions(){window.scrollTo(0,0),this.scrollRegions().forEach(e=>{typeof e.scrollTo=="function"?e.scrollTo(0,0):(e.scrollTop=0,e.scrollLeft=0)}),this.saveScrollPositions(),window.location.hash&&setTimeout(()=>{var e;return(e=document.getElementById(window.location.hash.slice(1)))==null?void 0:e.scrollIntoView()})}restoreScrollPositions(){this.page.scrollRegions&&this.scrollRegions().forEach((e,r)=>{let t=this.page.scrollRegions[r];if(t)typeof e.scrollTo=="function"?e.scrollTo(t.left,t.top):(e.scrollTop=t.top,e.scrollLeft=t.left);else return})}isBackForwardVisit(){return window.history.state&&this.navigationType==="back_forward"}handleBackForwardVisit(e){window.history.state.version=e.version,this.setPage(window.history.state,{preserveScroll:!0,preserveState:!0}).then(()=>{this.restoreScrollPositions(),L(e)})}locationVisit(e,r){try{let t={preserveScroll:r};window.sessionStorage.setItem("inertiaLocationVisit",JSON.stringify(t)),window.location.href=e.href,I(window.location).href===I(e).href&&window.location.reload()}catch{return!1}}isLocationVisit(){try{return window.sessionStorage.getItem("inertiaLocationVisit")!==null}catch{return!1}}handleLocationVisit(e){var t,n;let r=JSON.parse(window.sessionStorage.getItem("inertiaLocationVisit")||"");window.sessionStorage.removeItem("inertiaLocationVisit"),e.url+=window.location.hash,e.rememberedState=((t=window.history.state)==null?void 0:t.rememberedState)??{},e.scrollRegions=((n=window.history.state)==null?void 0:n.scrollRegions)??[],this.setPage(e,{preserveScroll:r.preserveScroll,preserveState:!0}).then(()=>{r.preserveScroll&&this.restoreScrollPositions(),L(e)})}isLocationVisitResponse(e){return!!(e&&e.status===409&&e.headers["x-inertia-location"])}isInertiaResponse(e){return!!(e!=null&&e.headers["x-inertia"])}createVisitId(){return this.visitId={},this.visitId}cancelVisit(e,{cancelled:r=!1,interrupted:t=!1}){e&&!e.completed&&!e.cancelled&&!e.interrupted&&(e.cancelToken.abort(),e.onCancel(),e.completed=!1,e.cancelled=r,e.interrupted=t,G(e),e.onFinish(e))}finishVisit(e){!e.cancelled&&!e.interrupted&&(e.completed=!0,e.cancelled=!1,e.interrupted=!1,G(e),e.onFinish(e))}resolvePreserveOption(e,r){return typeof e=="function"?e(r):e==="errors"?Object.keys(r.props.errors||{}).length>0:e}cancel(){this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}visit(e,{method:r="get",data:t={},replace:n=!1,preserveScroll:s=!1,preserveState:o=!1,only:l=[],except:u=[],headers:v={},errorBag:c="",forceFormData:i=!1,onCancelToken:a=()=>{},onBefore:p=()=>{},onStart:h=()=>{},onProgress:g=()=>{},onFinish:f=()=>{},onCancel:C=()=>{},onSuccess:H=()=>{},onError:U=()=>{},queryStringArrayFormat:R="brackets"}={}){let T=typeof e=="string"?$(e):e;if((_(t)||i)&&!(t instanceof FormData)&&(t=te(t)),!(t instanceof FormData)){let[d,m]=ie(r,T,t,R);T=$(d),t=m}let j={url:T,method:r,data:t,replace:n,preserveScroll:s,preserveState:o,only:l,except:u,headers:v,errorBag:c,forceFormData:i,queryStringArrayFormat:R,cancelled:!1,completed:!1,interrupted:!1};if(p(j)===!1||!ue(j))return;this.activeVisit&&this.cancelVisit(this.activeVisit,{interrupted:!0}),this.saveScrollPositions();let W=this.createVisitId();this.activeVisit={...j,onCancelToken:a,onBefore:p,onStart:h,onProgress:g,onFinish:f,onCancel:C,onSuccess:H,onError:U,queryStringArrayFormat:R,cancelToken:new AbortController},a({cancel:()=>{this.activeVisit&&this.cancelVisit(this.activeVisit,{cancelled:!0})}}),ye(j),h(j);let X=!!(l.length||u.length);J({method:r,url:I(T).href,data:r==="get"?{}:t,params:r==="get"?t:{},signal:this.activeVisit.cancelToken.signal,headers:{...v,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,...X?{"X-Inertia-Partial-Component":this.page.component}:{},...l.length?{"X-Inertia-Partial-Data":l.join(",")}:{},...u.length?{"X-Inertia-Partial-Except":u.join(",")}:{},...c&&c.length?{"X-Inertia-Error-Bag":c}:{},...this.page.version?{"X-Inertia-Version":this.page.version}:{}},onUploadProgress:d=>{t instanceof FormData&&(d.percentage=d.progress?Math.round(d.progress*100):0,ve(d),g(d))}}).then(d=>{var z;if(!this.isInertiaResponse(d))return Promise.reject({response:d});let m=d.data;X&&m.component===this.page.component&&(m.props={...this.page.props,...m.props}),s=this.resolvePreserveOption(s,m),o=this.resolvePreserveOption(o,m),o&&((z=window.history.state)!=null&&z.rememberedState)&&m.component===this.page.component&&(m.rememberedState=window.history.state.rememberedState);let P=T,F=$(m.url);return P.hash&&!F.hash&&I(P).href===F.href&&(F.hash=P.hash,m.url=F.href),this.setPage(m,{visitId:W,replace:n,preserveScroll:s,preserveState:o})}).then(()=>{let d=this.page.props.errors||{};if(Object.keys(d).length>0){let m=c?d[c]?d[c]:{}:d;return me(m),U(m)}return be(this.page),H(this.page)}).catch(d=>{if(this.isInertiaResponse(d.response))return this.setPage(d.response.data,{visitId:W});if(this.isLocationVisitResponse(d.response)){let m=$(d.response.headers["x-inertia-location"]),P=T;P.hash&&!m.hash&&I(P).href===m.href&&(m.hash=P.hash),this.locationVisit(m,s===!0)}else if(d.response)ge(d.response)&&we.show(d.response.data);else return Promise.reject(d)}).then(()=>{this.activeVisit&&this.finishVisit(this.activeVisit)}).catch(d=>{if(!J.isCancel(d)){let m=fe(d);if(this.activeVisit&&this.finishVisit(this.activeVisit),m)return Promise.reject(d)}})}setPage(e,{visitId:r=this.createVisitId(),replace:t=!1,preserveScroll:n=!1,preserveState:s=!1}={}){return Promise.resolve(this.resolveComponent(e.component)).then(o=>{r===this.visitId&&(e.scrollRegions=e.scrollRegions||[],e.rememberedState=e.rememberedState||{},t=t||$(e.url).href===window.location.href,t?this.replaceState(e):this.pushState(e),this.swapComponent({component:o,page:e,preserveState:s}).then(()=>{n||this.resetScrollPositions(),t||L(e)}))})}pushState(e){this.page=e,window.history.pushState(e,"",e.url)}replaceState(e){this.page=e,window.history.replaceState(e,"",e.url)}handlePopstateEvent(e){if(e.state!==null){let r=e.state,t=this.createVisitId();Promise.resolve(this.resolveComponent(r.component)).then(n=>{t===this.visitId&&(this.page=r,this.swapComponent({component:n,page:r,preserveState:!1}).then(()=>{this.restoreScrollPositions(),L(r)}))})}else{let r=$(this.page.url);r.hash=window.location.hash,this.replaceState({...this.page,url:r.href}),this.resetScrollPositions()}}get(e,r={},t={}){return this.visit(e,{...t,method:"get",data:r})}reload(e={}){return this.visit(window.location.href,{...e,preserveScroll:!0,preserveState:!0})}replace(e,r={}){return console.warn(`Inertia.replace() has been deprecated and will be removed in a future release. Please use Inertia.${r.method??"get"}() instead.`),this.visit(e,{preserveState:!0,...r,replace:!0})}post(e,r={},t={}){return this.visit(e,{preserveState:!0,...t,method:"post",data:r})}put(e,r={},t={}){return this.visit(e,{preserveState:!0,...t,method:"put",data:r})}patch(e,r={},t={}){return this.visit(e,{preserveState:!0,...t,method:"patch",data:r})}delete(e,r={}){return this.visit(e,{preserveState:!0,...r,method:"delete"})}remember(e,r="default"){var t;Y||this.replaceState({...this.page,rememberedState:{...(t=this.page)==null?void 0:t.rememberedState,[r]:e}})}restore(e="default"){var r,t;if(!Y)return(t=(r=window.history.state)==null?void 0:r.rememberedState)==null?void 0:t[e]}on(e,r){let t=n=>{let s=r(n);n.cancelable&&!n.defaultPrevented&&s===!1&&n.preventDefault()};return document.addEventListener(`inertia:${e}`,t),()=>document.removeEventListener(`inertia:${e}`,t)}},xe={buildDOMElement(e){let r=document.createElement("template");r.innerHTML=e;let t=r.content.firstChild;if(!e.startsWith("<script "))return t;let n=document.createElement("script");return n.innerHTML=t.innerHTML,t.getAttributeNames().forEach(s=>{n.setAttribute(s,t.getAttribute(s)||"")}),n},isInertiaManagedElement(e){return e.nodeType===Node.ELEMENT_NODE&&e.getAttribute("inertia")!==null},findMatchingElementIndex(e,r){let t=e.getAttribute("inertia");return t!==null?r.findIndex(n=>n.getAttribute("inertia")===t):-1},update:ee(function(e){let r=e.map(t=>this.buildDOMElement(t));Array.from(document.head.childNodes).filter(t=>this.isInertiaManagedElement(t)).forEach(t=>{var o,l;let n=this.findMatchingElementIndex(t,r);if(n===-1){(o=t==null?void 0:t.parentNode)==null||o.removeChild(t);return}let s=r.splice(n,1)[0];s&&!t.isEqualNode(s)&&((l=t==null?void 0:t.parentNode)==null||l.replaceChild(s,t))}),r.forEach(t=>document.head.appendChild(t))},1)};function Ee(e,r,t){let n={},s=0;function o(){let i=s+=1;return n[i]=[],i.toString()}function l(i){i===null||Object.keys(n).indexOf(i)===-1||(delete n[i],c())}function u(i,a=[]){i!==null&&Object.keys(n).indexOf(i)>-1&&(n[i]=a),c()}function v(){let i=r(""),a={...i?{title:`<title inertia="">${i}</title>`}:{}},p=Object.values(n).reduce((h,g)=>h.concat(g),[]).reduce((h,g)=>{if(g.indexOf("<")===-1)return h;if(g.indexOf("<title ")===0){let C=g.match(/(<title [^>]+>)(.*?)(<\/title>)/);return h.title=C?`${C[1]}${r(C[2])}${C[3]}`:g,h}let f=g.match(/ inertia="[^"]+"/);return f?h[f[0]]=g:h[Object.keys(h).length]=g,h},a);return Object.values(p)}function c(){e?t(v()):xe.update(v())}return c(),{forceUpdate:c,createProvider:function(){let i=o();return{update:a=>u(i,a),disconnect:()=>l(i)}}}}var se=null;function ke(e){document.addEventListener("inertia:start",Ce.bind(null,e)),document.addEventListener("inertia:progress",Pe),document.addEventListener("inertia:finish",Te)}function Ce(e){se=setTimeout(()=>x.start(),e)}function Pe(e){var r;x.isStarted()&&((r=e.detail.progress)!=null&&r.percentage)&&x.set(Math.max(x.status,e.detail.progress.percentage/100*.9))}function Te(e){if(clearTimeout(se),x.isStarted())e.detail.visit.completed?x.done():e.detail.visit.interrupted?x.set(0):e.detail.visit.cancelled&&(x.done(),x.remove());else return}function Oe(e){let r=document.createElement("style");r.type="text/css",r.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: ${e};

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px ${e}, 0 0 5px ${e};
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: ${e};
      border-left-color: ${e};
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(r)}function $e({delay:e=250,color:r="#29d",includeCSS:t=!0,showSpinner:n=!1}={}){ke(e),x.configure({showSpinner:n}),t&&Oe(r)}function je(e){let r=e.currentTarget.tagName.toLowerCase()==="a";return!(e.target&&(e==null?void 0:e.target).isContentEditable||e.defaultPrevented||r&&e.which>1||r&&e.altKey||r&&e.ctrlKey||r&&e.metaKey||r&&e.shiftKey)}var w=new Se,Le={created(){if(!this.$options.remember)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,r=w.restore(e),t=this.$options.remember.data.filter(s=>!(this[s]!==null&&typeof this[s]=="object"&&this[s].__rememberable===!1)),n=s=>this[s]!==null&&typeof this[s]=="object"&&typeof this[s].__remember=="function"&&typeof this[s].__restore=="function";t.forEach(s=>{this[s]!==void 0&&r!==void 0&&r[s]!==void 0&&(n(s)?this[s].__restore(r[s]):this[s]=r[s]),this.$watch(s,()=>{w.remember(t.reduce((o,l)=>({...o,[l]:S(n(l)?this[l].__remember():this[l])}),{}),e)},{immediate:!0,deep:!0})})}},Ie=Le;function Ve(e,r){let t=typeof e=="string"?e:null,n=typeof e=="string"?r:e,s=t?w.restore(t):null,o=typeof n=="object"?S(n):S(n()),l=null,u=null,v=i=>i,c=Z({...s?s.data:S(o),isDirty:!1,errors:s?s.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(o).reduce((i,a)=>(i[a]=this[a],i),{})},transform(i){return v=i,this},defaults(i,a){if(typeof n=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof i>"u"?o=this.data():o=Object.assign({},S(o),typeof i=="string"?{[i]:a}:i),this},reset(...i){let a=typeof n=="object"?S(o):S(n()),p=S(a);return i.length===0?(o=p,Object.assign(this,a)):Object.keys(a).filter(h=>i.includes(h)).forEach(h=>{o[h]=p[h],this[h]=a[h]}),this},setError(i,a){return Object.assign(this.errors,typeof i=="string"?{[i]:a}:i),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...i){return this.errors=Object.keys(this.errors).reduce((a,p)=>({...a,...i.length>0&&!i.includes(p)?{[p]:this.errors[p]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(i,a,p={}){let h=v(this.data()),g={...p,onCancelToken:f=>{if(l=f,p.onCancelToken)return p.onCancelToken(f)},onBefore:f=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(u),p.onBefore)return p.onBefore(f)},onStart:f=>{if(this.processing=!0,p.onStart)return p.onStart(f)},onProgress:f=>{if(this.progress=f,p.onProgress)return p.onProgress(f)},onSuccess:async f=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,u=setTimeout(()=>this.recentlySuccessful=!1,2e3);let C=p.onSuccess?await p.onSuccess(f):null;return o=S(this.data()),this.isDirty=!1,C},onError:f=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(f),p.onError)return p.onError(f)},onCancel:()=>{if(this.processing=!1,this.progress=null,p.onCancel)return p.onCancel()},onFinish:f=>{if(this.processing=!1,this.progress=null,l=null,p.onFinish)return p.onFinish(f)}};i==="delete"?w.delete(a,{...g,data:h}):w[i](a,h,g)},get(i,a){this.submit("get",i,a)},post(i,a){this.submit("post",i,a)},put(i,a){this.submit("put",i,a)},patch(i,a){this.submit("patch",i,a)},delete(i,a){this.submit("delete",i,a)},cancel(){l&&l.cancel()},__rememberable:t===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(i){Object.assign(this,i.data),this.setError(i.errors)}});return de(c,i=>{c.isDirty=!he(c.data(),o),t&&w.remember(S(i.__remember()),t)},{immediate:!0,deep:!0}),c}var y=D(null),b=D(null),M=ce(null),N=D(null),B=null,Ae=q({name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:Object,required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},setup({initialPage:e,initialComponent:r,resolveComponent:t,titleCallback:n,onHeadUpdate:s}){y.value=r?Q(r):null,b.value=e,N.value=null;let o=typeof window>"u";return B=Ee(o,n,s),o||(w.init({initialPage:e,resolveComponent:t,swapComponent:async l=>{y.value=Q(l.component),b.value=l.page,N.value=l.preserveState?N.value:Date.now()}}),w.on("navigate",()=>B.forceUpdate())),()=>{if(y.value){y.value.inheritAttrs=!!y.value.inheritAttrs;let l=A(y.value,{...b.value.props,key:N.value});return M.value&&(y.value.layout=M.value,M.value=null),y.value.layout?typeof y.value.layout=="function"?y.value.layout(A,l):(Array.isArray(y.value.layout)?y.value.layout:[y.value.layout]).concat(l).reverse().reduce((u,v)=>(v.inheritAttrs=!!v.inheritAttrs,A(v,{...b.value.props},()=>u))):l}}}}),Fe=Ae,Ne={install(e){w.form=Ve,Object.defineProperty(e.config.globalProperties,"$inertia",{get:()=>w}),Object.defineProperty(e.config.globalProperties,"$page",{get:()=>b.value}),Object.defineProperty(e.config.globalProperties,"$headManager",{get:()=>B}),e.mixin(Ie)}};function Ze(){return Z({props:O(()=>{var e;return(e=b.value)==null?void 0:e.props}),url:O(()=>{var e;return(e=b.value)==null?void 0:e.url}),component:O(()=>{var e;return(e=b.value)==null?void 0:e.component}),version:O(()=>{var e;return(e=b.value)==null?void 0:e.version}),scrollRegions:O(()=>{var e;return(e=b.value)==null?void 0:e.scrollRegions}),rememberedState:O(()=>{var e;return(e=b.value)==null?void 0:e.rememberedState})})}async function et({id:e="app",resolve:r,setup:t,title:n,progress:s={},page:o,render:l}){let u=typeof window>"u",v=u?null:document.getElementById(e),c=o||JSON.parse(v.dataset.page),i=h=>Promise.resolve(r(h)).then(g=>g.default||g),a=[],p=await i(c.component).then(h=>t({el:v,App:Fe,props:{initialPage:c,initialComponent:h,resolveComponent:i,titleCallback:n,onHeadUpdate:u?g=>a=g:null},plugin:Ne}));if(!u&&s&&$e(s),u){let h=await l(pe({render:()=>A("div",{id:e,"data-page":JSON.stringify(c),innerHTML:p?l(p):""})}));return{head:a,body:h}}}var Re=q({props:{title:{type:String,required:!1}},data(){return{provider:this.$headManager.createProvider()}},beforeUnmount(){this.provider.disconnect()},methods:{isUnaryTag(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.type)>-1},renderTagStart(e){e.props=e.props||{},e.props.inertia=e.props["head-key"]!==void 0?e.props["head-key"]:"";let r=Object.keys(e.props).reduce((t,n)=>{let s=e.props[n];return["key","head-key"].includes(n)?t:s===""?t+` ${n}`:t+` ${n}="${s}"`},"");return`<${e.type}${r}>`},renderTagChildren(e){return typeof e.children=="string"?e.children:e.children.reduce((r,t)=>r+this.renderTag(t),"")},isFunctionNode(e){return typeof e.type=="function"},isComponentNode(e){return typeof e.type=="object"},isCommentNode(e){return/(comment|cmt)/i.test(e.type.toString())},isFragmentNode(e){return/(fragment|fgt|symbol\(\))/i.test(e.type.toString())},isTextNode(e){return/(text|txt)/i.test(e.type.toString())},renderTag(e){if(this.isTextNode(e))return e.children;if(this.isFragmentNode(e)||this.isCommentNode(e))return"";let r=this.renderTagStart(e);return e.children&&(r+=this.renderTagChildren(e)),this.isUnaryTag(e)||(r+=`</${e.type}>`),r},addTitleElement(e){return this.title&&!e.find(r=>r.startsWith("<title"))&&e.push(`<title inertia>${this.title}</title>`),e},renderNodes(e){return this.addTitleElement(e.flatMap(r=>this.resolveNode(r)).map(r=>this.renderTag(r)).filter(r=>r))},resolveNode(e){return this.isFunctionNode(e)?this.resolveNode(e.type()):this.isComponentNode(e)?(console.warn("Using components in the <Head> component is not supported."),[]):this.isTextNode(e)&&e.children?e:this.isFragmentNode(e)&&e.children?e.children.flatMap(r=>this.resolveNode(r)):this.isCommentNode(e)?[]:e}},render(){this.provider.update(this.renderNodes(this.$slots.default?this.$slots.default():[]))}}),tt=Re,Me=q({name:"Link",props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:String,required:!0},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"}},setup(e,{slots:r,attrs:t}){return()=>{let n=e.as.toLowerCase(),s=e.method.toLowerCase(),[o,l]=ie(s,e.href||"",e.data,e.queryStringArrayFormat);return n==="a"&&s!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${o}" method="${s}" as="button">...</Link>`),A(e.as,{...t,...n==="a"?{href:o}:{},onClick:u=>{je(u)&&(u.preventDefault(),w.visit(o,{data:l,method:s,replace:e.replace,preserveScroll:e.preserveScroll,preserveState:e.preserveState??s!=="get",only:e.only,except:e.except,headers:e.headers,onCancelToken:t.onCancelToken||(()=>({})),onBefore:t.onBefore||(()=>({})),onStart:t.onStart||(()=>({})),onProgress:t.onProgress||(()=>({})),onFinish:t.onFinish||(()=>({})),onCancel:t.onCancel||(()=>({})),onSuccess:t.onSuccess||(()=>({})),onError:t.onError||(()=>({}))}))}},r)}}}),rt=Me,V,E=(V=le)&&typeof V=="object"&&"default"in V?V.default:V,oe=null;function _e(e){document.addEventListener("inertia:start",Be.bind(null,e)),document.addEventListener("inertia:progress",De),document.addEventListener("inertia:finish",qe)}function Be(e){oe=setTimeout(function(){return E.start()},e)}function De(e){E.isStarted()&&e.detail.progress.percentage&&E.set(Math.max(E.status,e.detail.progress.percentage/100*.9))}function qe(e){clearTimeout(oe),E.isStarted()&&(e.detail.visit.completed?E.done():e.detail.visit.interrupted?E.set(0):e.detail.visit.cancelled&&(E.done(),E.remove()))}var nt={init:function(e){var r=e===void 0?{}:e,t=r.delay,n=r.color,s=n===void 0?"#29d":n,o=r.includeCSS,l=o===void 0||o,u=r.showSpinner,v=u!==void 0&&u;_e(t===void 0?250:t),E.configure({showSpinner:v}),l&&function(c){var i=document.createElement("style");i.type="text/css",i.textContent=`
    #nprogress {
      pointer-events: none;
    }

    #nprogress .bar {
      background: `+c+`;

      position: fixed;
      z-index: 1031;
      top: 0;
      left: 0;

      width: 100%;
      height: 2px;
    }

    #nprogress .peg {
      display: block;
      position: absolute;
      right: 0px;
      width: 100px;
      height: 100%;
      box-shadow: 0 0 10px `+c+", 0 0 5px "+c+`;
      opacity: 1.0;

      -webkit-transform: rotate(3deg) translate(0px, -4px);
          -ms-transform: rotate(3deg) translate(0px, -4px);
              transform: rotate(3deg) translate(0px, -4px);
    }

    #nprogress .spinner {
      display: block;
      position: fixed;
      z-index: 1031;
      top: 15px;
      right: 15px;
    }

    #nprogress .spinner-icon {
      width: 18px;
      height: 18px;
      box-sizing: border-box;

      border: solid 2px transparent;
      border-top-color: `+c+`;
      border-left-color: `+c+`;
      border-radius: 50%;

      -webkit-animation: nprogress-spinner 400ms linear infinite;
              animation: nprogress-spinner 400ms linear infinite;
    }

    .nprogress-custom-parent {
      overflow: hidden;
      position: relative;
    }

    .nprogress-custom-parent #nprogress .spinner,
    .nprogress-custom-parent #nprogress .bar {
      position: absolute;
    }

    @-webkit-keyframes nprogress-spinner {
      0%   { -webkit-transform: rotate(0deg); }
      100% { -webkit-transform: rotate(360deg); }
    }
    @keyframes nprogress-spinner {
      0%   { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
  `,document.head.appendChild(i)}(s)}};export{nt as I,Ze as Q,tt as Z,Ye as a,Qe as c,Ge as g,rt as i,et as j};
